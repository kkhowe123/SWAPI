{"ast":null,"code":"import{useEffect,useState}from\"react\";import CardDetails from'./CardDetails';import AllCardsDetailsView from\"./AllCardsDetailsView\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const PeopleDetails=()=>{const[peopleData,setPeopleData]=useState([]);// const [error, setError] = useState(null);\nconst[currentPage,setCurrentPage]=useState(1);const[totalPages,setTotalPages]=useState(1);const[loading,setLoading]=useState(false);const[error,setError]=useState();useEffect(()=>{fetch(\"https://swapi.dev/api/people/?page=\".concat(currentPage)).then(response=>{if(!response.ok){throw new Error(\"Could not connect to the server\");}return response.json();}).then(data=>setPeopleData(data.results)).then(pageNum=>setTotalPages(Math.ceil(pageNum.count/15))).catch(error=>setError(error));},[currentPage]);const nextPage=()=>{setCurrentPage(currentPage+1);};const prevPage=()=>{setCurrentPage(currentPage-1);};return/*#__PURE__*/_jsxs(_Fragment,{children:[peopleData.map(people=>/*#__PURE__*/_jsx(AllCardsDetailsView,{name:people.name,birth_year:people.birth_year,species:people.species,homeworld:people.homeworld,vehicles:people.vehicles,starships:people.starship,gender:people.gender},people.name)),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:prevPage,disabled:currentPage===1,children:\"Previous\"}),/*#__PURE__*/_jsxs(\"span\",{children:[currentPage,\" of \",totalPages]}),/*#__PURE__*/_jsx(\"button\",{onClick:nextPage,children:\"Next\"})]})]});};export default PeopleDetails;","map":{"version":3,"names":["useEffect","useState","CardDetails","AllCardsDetailsView","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PeopleDetails","peopleData","setPeopleData","currentPage","setCurrentPage","totalPages","setTotalPages","loading","setLoading","error","setError","fetch","concat","then","response","ok","Error","json","data","results","pageNum","Math","ceil","count","catch","nextPage","prevPage","children","map","people","name","birth_year","species","homeworld","vehicles","starships","starship","gender","onClick","disabled"],"sources":["/home/keanu/Downloads/projects/SWAPI/src/components/PeopleDetails.js"],"sourcesContent":["import { useEffect, useState} from \"react\";\nimport CardDetails from './CardDetails';\nimport AllCardsDetailsView from \"./AllCardsDetailsView\";\n const PeopleDetails = () =>{\n\n    const [peopleData, setPeopleData] = useState([]);\n    // const [error, setError] = useState(null);\n    const [currentPage, setCurrentPage] = useState(1);\n    const [totalPages, setTotalPages] = useState(1);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState();\n\n\n    \n\n        useEffect( () =>\n        {\n            fetch(`https://swapi.dev/api/people/?page=${currentPage}`)\n            .then (response => {\n                if(!response.ok){\n                    throw new Error (\"Could not connect to the server\");\n                }\n                return response.json();\n            \n            })\n            .then(data => setPeopleData(data.results))\n            .then(pageNum => setTotalPages(Math.ceil(pageNum.count / 15)))\n                       \n            .catch (error => setError(error));\n             \n\n        \n           \n        },[currentPage]);\n\n        const nextPage = () => {\n            setCurrentPage(currentPage + 1);\n          };\n        \n          const prevPage = () => {\n            setCurrentPage(currentPage - 1);\n          };\n        return(\n            <>\n                {peopleData.map((people) => (\n                \n                    <AllCardsDetailsView key={people.name} name={people.name} birth_year ={people.birth_year} species={people.species} homeworld={people.homeworld} vehicles={people.vehicles} starships ={people.starship} gender={people.gender} />\n                ))}\n\n        <div>\n        <button onClick={prevPage} disabled={currentPage === 1}>Previous</button>\n        <span>{currentPage} of {totalPages}</span>\n        <button onClick={nextPage} >Next</button>\n      </div>\n           \n            </>\n        );\n        \n        }\n         export default PeopleDetails"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAC1C,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,mBAAmB,KAAM,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBACvD,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAK,CAExB,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAChD;AACA,KAAM,CAACY,WAAW,CAAEC,cAAc,CAAC,CAAGb,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAACc,UAAU,CAAEC,aAAa,CAAC,CAAGf,QAAQ,CAAC,CAAC,CAAC,CAC/C,KAAM,CAACgB,OAAO,CAAEC,UAAU,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACkB,KAAK,CAAEC,QAAQ,CAAC,CAAGnB,QAAQ,CAAC,CAAC,CAKhCD,SAAS,CAAE,IACX,CACIqB,KAAK,uCAAAC,MAAA,CAAuCT,WAAW,CAAE,CAAC,CACzDU,IAAI,CAAEC,QAAQ,EAAI,CACf,GAAG,CAACA,QAAQ,CAACC,EAAE,CAAC,CACZ,KAAM,IAAI,CAAAC,KAAK,CAAE,iCAAiC,CAAC,CACvD,CACA,MAAO,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAE1B,CAAC,CAAC,CACDJ,IAAI,CAACK,IAAI,EAAIhB,aAAa,CAACgB,IAAI,CAACC,OAAO,CAAC,CAAC,CACzCN,IAAI,CAACO,OAAO,EAAId,aAAa,CAACe,IAAI,CAACC,IAAI,CAACF,OAAO,CAACG,KAAK,CAAG,EAAE,CAAC,CAAC,CAAC,CAE7DC,KAAK,CAAEf,KAAK,EAAIC,QAAQ,CAACD,KAAK,CAAC,CAAC,CAKrC,CAAC,CAAC,CAACN,WAAW,CAAC,CAAC,CAEhB,KAAM,CAAAsB,QAAQ,CAAGA,CAAA,GAAM,CACnBrB,cAAc,CAACD,WAAW,CAAG,CAAC,CAAC,CACjC,CAAC,CAED,KAAM,CAAAuB,QAAQ,CAAGA,CAAA,GAAM,CACrBtB,cAAc,CAACD,WAAW,CAAG,CAAC,CAAC,CACjC,CAAC,CACH,mBACIN,KAAA,CAAAE,SAAA,EAAA4B,QAAA,EACK1B,UAAU,CAAC2B,GAAG,CAAEC,MAAM,eAEnBlC,IAAA,CAACF,mBAAmB,EAAmBqC,IAAI,CAAED,MAAM,CAACC,IAAK,CAACC,UAAU,CAAGF,MAAM,CAACE,UAAW,CAACC,OAAO,CAAEH,MAAM,CAACG,OAAQ,CAACC,SAAS,CAAEJ,MAAM,CAACI,SAAU,CAACC,QAAQ,CAAEL,MAAM,CAACK,QAAS,CAACC,SAAS,CAAGN,MAAM,CAACO,QAAS,CAACC,MAAM,CAAER,MAAM,CAACQ,MAAO,EAApMR,MAAM,CAACC,IAA+L,CACnO,CAAC,cAEVjC,KAAA,QAAA8B,QAAA,eACAhC,IAAA,WAAQ2C,OAAO,CAAEZ,QAAS,CAACa,QAAQ,CAAEpC,WAAW,GAAK,CAAE,CAAAwB,QAAA,CAAC,UAAQ,CAAQ,CAAC,cACzE9B,KAAA,SAAA8B,QAAA,EAAOxB,WAAW,CAAC,MAAI,CAACE,UAAU,EAAO,CAAC,cAC1CV,IAAA,WAAQ2C,OAAO,CAAEb,QAAS,CAAAE,QAAA,CAAE,MAAI,CAAQ,CAAC,EACtC,CAAC,EAEE,CAAC,CAGP,CAAC,CACA,cAAe,CAAA3B,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}