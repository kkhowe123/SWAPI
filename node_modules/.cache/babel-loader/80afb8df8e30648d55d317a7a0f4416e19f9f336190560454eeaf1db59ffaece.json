{"ast":null,"code":"import{useEffect,useState}from\"react\";import CardDetails from'./CardDetails';import AllCardsDetailsView from\"./AllCardsDetailsView\";import Pagination from\"./Pagination\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const PeopleDetails=()=>{const[peopleData,setPeopleData]=useState([]);// const [error, setError] = useState(null);\nconst[currentPage,setCurrentPage]=useState(1);const[totalPages,setTotalPages]=useState(1);const[loading,setLoading]=useState(false);const[error,setError]=useState();useEffect(()=>{fetch(\"https://swapi.dev/api/people/?page=\".concat(currentPage)).then(response=>{if(!response.ok){throw new Error(\"Could not connect to the server\");}return response.json();}).then(data=>{setPeopleData(data.results);setTotalPages(Math.ceil(data.count/10));}).catch(error=>setError(error));},[currentPage]);function setPage(selectedPage){return setCurrentPage(selectedPage);}const nextPage=()=>{setCurrentPage(currentPage+1);};const prevPage=()=>{setCurrentPage(currentPage-1);};return/*#__PURE__*/_jsxs(_Fragment,{children:[peopleData.map(people=>/*#__PURE__*/_jsx(AllCardsDetailsView,{name:people.name,birth_year:people.birth_year,species:people.species,homeworld:people.homeworld,vehicles:people.vehicles,starships:people.starship,gender:people.gender},people.name)),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Pagination,{setPageValue:setPage})})]});};export default PeopleDetails;","map":{"version":3,"names":["useEffect","useState","CardDetails","AllCardsDetailsView","Pagination","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","PeopleDetails","peopleData","setPeopleData","currentPage","setCurrentPage","totalPages","setTotalPages","loading","setLoading","error","setError","fetch","concat","then","response","ok","Error","json","data","results","Math","ceil","count","catch","setPage","selectedPage","nextPage","prevPage","children","map","people","name","birth_year","species","homeworld","vehicles","starships","starship","gender","setPageValue"],"sources":["/home/keanu/Downloads/projects/SWAPI/src/components/PeopleDetails.js"],"sourcesContent":["import { useEffect, useState} from \"react\";\nimport CardDetails from './CardDetails';\nimport AllCardsDetailsView from \"./AllCardsDetailsView\";\nimport Pagination from \"./Pagination\";\n const PeopleDetails = () =>{\n\n    const [peopleData, setPeopleData] = useState([]);\n    // const [error, setError] = useState(null);\n    const [currentPage, setCurrentPage] = useState(1);\n    const [totalPages, setTotalPages] = useState(1);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState();\n\n\n    \n\n        useEffect( () =>\n        {\n            fetch(`https://swapi.dev/api/people/?page=${currentPage}`)\n            .then (response => {\n                if(!response.ok){\n                    throw new Error (\"Could not connect to the server\");\n                }\n                return response.json();\n            \n            })\n            .then(data => {\n                setPeopleData(data.results)\n                setTotalPages (Math.ceil(data.count/10))\n            })\n            \n            \n                       \n            .catch (error => setError(error));\n             \n\n        \n           \n        },[currentPage]);\n\n        function setPage(selectedPage)\n        {\n            return(setCurrentPage(selectedPage))\n        }\n\n        const nextPage = () => {\n            setCurrentPage(currentPage + 1);\n          };\n        \n          const prevPage = () => {\n            setCurrentPage(currentPage - 1);\n          };\n        return(\n            <>\n                {peopleData.map((people) => (\n                \n                    <AllCardsDetailsView key={people.name} name={people.name} birth_year ={people.birth_year} species={people.species} homeworld={people.homeworld} vehicles={people.vehicles} starships ={people.starship} gender={people.gender} />\n                ))}\n\n        <div>\n            <Pagination setPageValue={setPage}/>\n\n        {/* <button onClick={prevPage} disabled={currentPage === 1}>Previous</button>\n        <span>{currentPage} of {totalPages}</span>\n        <button onClick={nextPage} >Next</button> */}\n      </div>\n           \n            </>\n        );\n        \n        }\n         export default PeopleDetails"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAC1C,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,mBAAmB,KAAM,uBAAuB,CACvD,MAAO,CAAAC,UAAU,KAAM,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBACrC,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAK,CAExB,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAChD;AACA,KAAM,CAACa,WAAW,CAAEC,cAAc,CAAC,CAAGd,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAACe,UAAU,CAAEC,aAAa,CAAC,CAAGhB,QAAQ,CAAC,CAAC,CAAC,CAC/C,KAAM,CAACiB,OAAO,CAAEC,UAAU,CAAC,CAAGlB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACmB,KAAK,CAAEC,QAAQ,CAAC,CAAGpB,QAAQ,CAAC,CAAC,CAKhCD,SAAS,CAAE,IACX,CACIsB,KAAK,uCAAAC,MAAA,CAAuCT,WAAW,CAAE,CAAC,CACzDU,IAAI,CAAEC,QAAQ,EAAI,CACf,GAAG,CAACA,QAAQ,CAACC,EAAE,CAAC,CACZ,KAAM,IAAI,CAAAC,KAAK,CAAE,iCAAiC,CAAC,CACvD,CACA,MAAO,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAE1B,CAAC,CAAC,CACDJ,IAAI,CAACK,IAAI,EAAI,CACVhB,aAAa,CAACgB,IAAI,CAACC,OAAO,CAAC,CAC3Bb,aAAa,CAAEc,IAAI,CAACC,IAAI,CAACH,IAAI,CAACI,KAAK,CAAC,EAAE,CAAC,CAAC,CAC5C,CAAC,CAAC,CAIDC,KAAK,CAAEd,KAAK,EAAIC,QAAQ,CAACD,KAAK,CAAC,CAAC,CAKrC,CAAC,CAAC,CAACN,WAAW,CAAC,CAAC,CAEhB,QAAS,CAAAqB,OAAOA,CAACC,YAAY,CAC7B,CACI,MAAO,CAAArB,cAAc,CAACqB,YAAY,CAAC,CACvC,CAEA,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACnBtB,cAAc,CAACD,WAAW,CAAG,CAAC,CAAC,CACjC,CAAC,CAED,KAAM,CAAAwB,QAAQ,CAAGA,CAAA,GAAM,CACrBvB,cAAc,CAACD,WAAW,CAAG,CAAC,CAAC,CACjC,CAAC,CACH,mBACIJ,KAAA,CAAAF,SAAA,EAAA+B,QAAA,EACK3B,UAAU,CAAC4B,GAAG,CAAEC,MAAM,eAEnBnC,IAAA,CAACH,mBAAmB,EAAmBuC,IAAI,CAAED,MAAM,CAACC,IAAK,CAACC,UAAU,CAAGF,MAAM,CAACE,UAAW,CAACC,OAAO,CAAEH,MAAM,CAACG,OAAQ,CAACC,SAAS,CAAEJ,MAAM,CAACI,SAAU,CAACC,QAAQ,CAAEL,MAAM,CAACK,QAAS,CAACC,SAAS,CAAGN,MAAM,CAACO,QAAS,CAACC,MAAM,CAAER,MAAM,CAACQ,MAAO,EAApMR,MAAM,CAACC,IAA+L,CACnO,CAAC,cAEVpC,IAAA,QAAAiC,QAAA,cACIjC,IAAA,CAACF,UAAU,EAAC8C,YAAY,CAAEf,OAAQ,CAAC,CAAC,CAKrC,CAAC,EAEE,CAAC,CAGP,CAAC,CACA,cAAe,CAAAxB,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}