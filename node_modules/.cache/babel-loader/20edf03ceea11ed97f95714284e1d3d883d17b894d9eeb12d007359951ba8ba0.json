{"ast":null,"code":"import{useEffect,useState}from\"react\";import CardDetails from'./CardDetails';import AllCardsDetailsView from\"./AllCardsDetailsView\";import Pagination from\"./Pagination\";import pageLoader from\"../assets/loader.gif\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const PeopleDetails=()=>{const[peopleData,setPeopleData]=useState([]);// const [error, setError] = useState(null);\nconst[currentPage,setCurrentPage]=useState(1);const[totalPages,setTotalPages]=useState(1);const[loading,setLoading]=useState(false);const[error,setError]=useState();useEffect(()=>{setLoading(true);setTimeout(()=>{setLoading(false);},1800);},[currentPage]);useEffect(()=>{fetch(\"https://swapi.dev/api/people/?page=\".concat(currentPage)).then(response=>{if(!response.ok){throw new Error(\"Could not connect to the server\");}return response.json();}).then(data=>{setPeopleData(data.results);setTotalPages(Math.ceil(data.count/10));}).catch(error=>setError(error));},[currentPage]);function setPage(selectedPage){return setCurrentPage(selectedPage);}const nextPage=()=>{setCurrentPage(currentPage+1);};const prevPage=()=>{setCurrentPage(currentPage-1);};return/*#__PURE__*/_jsx(_Fragment,{children:loading?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"ml-[500px] mt-[100px]\",src:pageLoader})}):/*#__PURE__*/_jsxs(_Fragment,{children:[peopleData.map(people=>/*#__PURE__*/_jsx(AllCardsDetailsView,{name:people.name,birth_year:people.birth_year,species:people.species,homeworld:people.homeworld,vehicles:people.vehicles,starships:people.starship,gender:people.gender},people.name)),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Pagination,{setPageValue:setPage})})]})});};export default PeopleDetails;","map":{"version":3,"names":["useEffect","useState","CardDetails","AllCardsDetailsView","Pagination","pageLoader","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","PeopleDetails","peopleData","setPeopleData","currentPage","setCurrentPage","totalPages","setTotalPages","loading","setLoading","error","setError","setTimeout","fetch","concat","then","response","ok","Error","json","data","results","Math","ceil","count","catch","setPage","selectedPage","nextPage","prevPage","children","className","src","map","people","name","birth_year","species","homeworld","vehicles","starships","starship","gender","setPageValue"],"sources":["/home/keanu/Downloads/projects/SWAPI/src/components/PeopleDetails.js"],"sourcesContent":["import { useEffect, useState} from \"react\";\nimport CardDetails from './CardDetails';\nimport AllCardsDetailsView from \"./AllCardsDetailsView\";\nimport Pagination from \"./Pagination\";\nimport pageLoader from \"../assets/loader.gif\"\n const PeopleDetails = () =>{\n\n    const [peopleData, setPeopleData] = useState([]);\n    // const [error, setError] = useState(null);\n    const [currentPage, setCurrentPage] = useState(1);\n    const [totalPages, setTotalPages] = useState(1);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState();\n\n\n        useEffect(() => {\n            setLoading(true);\n            setTimeout(() => {\n                setLoading(false)\n            }, 1800);\n        },[currentPage]);\n\n        useEffect( () =>\n        {\n            fetch(`https://swapi.dev/api/people/?page=${currentPage}`)\n            .then (response => {\n                if(!response.ok){\n                    throw new Error (\"Could not connect to the server\");\n                }\n                return response.json();\n            \n            })\n            .then(data => {\n                setPeopleData(data.results)\n                setTotalPages (Math.ceil(data.count/10))\n            })\n            \n            \n                       \n            .catch (error => setError(error));\n             \n\n        \n           \n        },[currentPage]);\n\n        function setPage(selectedPage)\n        {\n            return(setCurrentPage(selectedPage))\n        }\n\n        const nextPage = () => {\n            setCurrentPage(currentPage + 1);\n          };\n        \n          const prevPage = () => {\n            setCurrentPage(currentPage - 1);\n          };\n        return(\n            <>\n               {loading ? (\n                <div>\n                    <img className=\"ml-[500px] mt-[100px]\"  src={pageLoader} />\n                </div>\n               ) :( \n                <>\n                {peopleData.map((people) => (\n                \n                <AllCardsDetailsView key={people.name} name={people.name} birth_year ={people.birth_year} species={people.species} homeworld={people.homeworld} vehicles={people.vehicles} starships ={people.starship} gender={people.gender} />\n            ))}\n            \n\n    <div>\n    <Pagination setPageValue={setPage}/>\n\n{/* <button onClick={prevPage} disabled={currentPage === 1}>Previous</button>\n<span>{currentPage} of {totalPages}</span>\n<button onClick={nextPage} >Next</button> */}\n</div>\n</>\n            )\n\n\n\n               }\n      \n           \n            </>\n        );\n        \n        }\n         export default PeopleDetails"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}