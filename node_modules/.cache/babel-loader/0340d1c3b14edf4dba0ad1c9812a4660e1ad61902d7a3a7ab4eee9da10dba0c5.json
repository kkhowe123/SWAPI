{"ast":null,"code":"var _jsxFileName = \"/home/keanu/Downloads/projects/SWAPI/src/components/PeopleDetails.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport AllCardsDetailsView from \"./AllCardsDetailsView\";\nimport Pagination from \"./Pagination\";\nimport pageLoader from \"../assets/loader.gif\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PeopleDetails = ({\n  search\n}) => {\n  _s();\n  const [peopleData, setPeopleData] = useState([]);\n  // const [error, setError] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState();\n  const [morePagesStatus, setMorePagesStatus] = useState(false);\n  const baseUrl = \"https://swapi.dev/api/people/\";\n\n  /*This useEffect below will be responsible for updating the page when we click the next and previous dbutton and the page nummbers . It also set a timeout to allow the loading animation to display*/\n  useEffect(() => {\n    setLoading(true);\n    setTimeout(() => {\n      setLoading(false);\n    }, 600);\n  }, [currentPage]);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const nextAPiPage = allData.next;\n        const allPeople = [allData.results];\n        const pageTotal = Math.ceil(allData.count / 10);\n        setTotalPages(pageTotal);\n        for (const i = 0; i <= totalPages; i++) {\n          const getEachPage = await fetch(nextAPiPage);\n          const pageData = await getEachPage.json();\n          allPeople = allPeople.concat(pageData.results);\n          nextAPiPage = pageData.next;\n          console.log(nextAPiPage);\n        }\n        setPeopleData(allPeople);\n      } catch (error) {\n        return error;\n      }\n    };\n\n    // fetch(`https://swapi.dev/api/people/?page=${currentPage}`)\n    // .then(response => {\n    //     if(!response.ok){\n    //         throw new Error(\"could not load the data\");\n    //     }\n    //     return response.json();\n\n    // })\n    // .then(data =>{\n    //     setPeopleData(data.results);\n    //     setTotalPages(Math.ceil(data.count/10));\n    // })\n    // .catch (error => setError(error));  \n\n    // the current page variable below will be used to trigger the useEffect so each time the current page value changes the useEffect will run  \n  }, [currentPage]);\n\n  //this function is used to update the morepages states and show the other pages \n  function setMorePages(pageStatus) {\n    return setMorePagesStatus(pageStatus);\n  }\n\n  // function is used to update the crrent page state to allow switince of pages this will be pased to the Pagination component \n  function setPage(selectedPage) {\n    return setCurrentPage(selectedPage);\n  }\n  // this is used to to update the current page state this will allow switching pages using the next button this function will be passed to the pagination component \n  const nextPage = activePage => {\n    setCurrentPage(activePage);\n  };\n  // this is used to to update the current page state this will allow switching pages using the previous  button this function will be passed to the pagination component \n  const prevPage = activePage => {\n    setCurrentPage(activePage);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"ml-[500px] mt-[100px]\",\n        alt: \"Loading Icon\",\n        src: pageLoader\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [peopleData.map(people =>\n      /*#__PURE__*/\n      //all card details view componenet below to display the details for each card \n      _jsxDEV(AllCardsDetailsView, {\n        peopleData: people\n      }, people.name, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 5\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Pagination, {\n          setPageValue: setPage,\n          nextPage: nextPage,\n          prevPage: prevPage,\n          currentPage: currentPage,\n          setMorePagesStatus: setMorePages,\n          morePagesStatus: morePagesStatus,\n          totalPages: totalPages\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true)\n  }, void 0, false);\n};\n_s(PeopleDetails, \"Fs2Lgu2BFdXDNw2TWzIyuttkWM0=\");\n_c = PeopleDetails;\nexport default PeopleDetails;\nvar _c;\n$RefreshReg$(_c, \"PeopleDetails\");","map":{"version":3,"names":["useEffect","useState","React","axios","AllCardsDetailsView","Pagination","pageLoader","jsxDEV","_jsxDEV","Fragment","_Fragment","PeopleDetails","search","_s","peopleData","setPeopleData","currentPage","setCurrentPage","totalPages","setTotalPages","loading","setLoading","error","setError","morePagesStatus","setMorePagesStatus","baseUrl","setTimeout","fetchData","nextAPiPage","allData","next","allPeople","results","pageTotal","Math","ceil","count","i","getEachPage","fetch","pageData","json","concat","console","log","setMorePages","pageStatus","setPage","selectedPage","nextPage","activePage","prevPage","children","className","alt","src","fileName","_jsxFileName","lineNumber","columnNumber","map","people","name","setPageValue","_c","$RefreshReg$"],"sources":["/home/keanu/Downloads/projects/SWAPI/src/components/PeopleDetails.js"],"sourcesContent":["import { useEffect, useState} from \"react\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport AllCardsDetailsView from \"./AllCardsDetailsView\";\nimport Pagination from \"./Pagination\";\nimport pageLoader from \"../assets/loader.gif\"\n\n const PeopleDetails = ({search}) =>{\n\n    const [peopleData, setPeopleData] = useState([]);\n    // const [error, setError] = useState(null);\n    const [currentPage, setCurrentPage] = useState(1);\n    const [totalPages, setTotalPages] = useState(1);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState();\n    const [morePagesStatus, setMorePagesStatus] = useState(false);\n  \n    const baseUrl = \"https://swapi.dev/api/people/\";\n        \n\n\n\n\n\n\n    /*This useEffect below will be responsible for updating the page when we click the next and previous dbutton and the page nummbers . It also set a timeout to allow the loading animation to display*/\n        useEffect(() => {\n            setLoading(true);\n           \n            setTimeout(() => {\n                setLoading(false)\n            }, 600);\n\n        },[currentPage]);\n\n        useEffect( () =>\n        {\n            const fetchData = async () =>{\n                try{\n            \n           \n                const nextAPiPage = allData.next;\n                const allPeople = [allData.results];\n                const pageTotal = Math.ceil(allData.count / 10);\n                setTotalPages(pageTotal);\n\n                for(const i = 0; i <= totalPages; i++ )\n                {\n                    const getEachPage = await fetch(nextAPiPage);\n                    const pageData = await getEachPage.json();\n                    allPeople = allPeople.concat(pageData.results);\n                    nextAPiPage = pageData.next;\n                    console.log(nextAPiPage);\n\n                }\n\n                setPeopleData(allPeople);\n\n            }\n            catch (error)\n            {\n                   return error; \n            }\n\n\n               \n\n                \n\n\n\n            }\n\n\n\n            // fetch(`https://swapi.dev/api/people/?page=${currentPage}`)\n            // .then(response => {\n            //     if(!response.ok){\n            //         throw new Error(\"could not load the data\");\n            //     }\n            //     return response.json();\n\n            // })\n            // .then(data =>{\n            //     setPeopleData(data.results);\n            //     setTotalPages(Math.ceil(data.count/10));\n            // })\n            // .catch (error => setError(error));  \n\n         // the current page variable below will be used to trigger the useEffect so each time the current page value changes the useEffect will run  \n        },[currentPage]);\n\n        \n\n        //this function is used to update the morepages states and show the other pages \n        function setMorePages(pageStatus)\n        {\n            return(setMorePagesStatus(pageStatus))\n\n        }\n\n        // function is used to update the crrent page state to allow switince of pages this will be pased to the Pagination component \n        function setPage(selectedPage)\n        {\n            return(setCurrentPage(selectedPage))\n        }\n            // this is used to to update the current page state this will allow switching pages using the next button this function will be passed to the pagination component \n        const nextPage = (activePage) => {\n            setCurrentPage(activePage);\n          };\n        // this is used to to update the current page state this will allow switching pages using the previous  button this function will be passed to the pagination component \n          const prevPage = (activePage) => {\n            setCurrentPage(activePage);\n          };\n        return(\n            <>\n            {/*  The below is responsible for rendering the card details to the screen. This is also responsible for the loading screen animation */}\n               {loading ? (\n                <div>\n                    <img className=\"ml-[500px] mt-[100px]\" alt=\"Loading Icon\"  src={pageLoader} />\n                </div>\n               ) :  ( \n                \n                <>\n               {peopleData.map((people) => (\n    //all card details view componenet below to display the details for each card \n    <AllCardsDetailsView key={people.name} peopleData={people} />\n))}\n<div>\n    {/* Using the pagination component to  display the the page numbers and also the next button*/}\n    <Pagination setPageValue={setPage} nextPage={nextPage} prevPage={prevPage} currentPage={currentPage} setMorePagesStatus={setMorePages} morePagesStatus={morePagesStatus} totalPages={totalPages} />\n    \n\n</div>\n\n</>\n            )\n\n\n\n               }\n      \n           \n            </>\n        );\n        \n        }\n         export default PeopleDetails"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}